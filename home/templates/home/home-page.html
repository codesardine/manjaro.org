{% extends "base.html" %}

{% load wagtailcore_tags static home_tags wagtailimages_tags %}

{% block body_class %}homepage{% endblock %}

{% block title %}
{% if page.seo_title %}
{{ page.seo_title }}
{% else %}
{{ page.title }}
{% endif %}
{% endblock %}

{% block meta_title %}
{% if page.seo_title %}
{{ page.seo_title }}
{% else %}
{{ page.title }}
{% endif %}
{% endblock %}

{% block meta_description %}
{% if page.search_description %}
{{ page.search_description }}
{% endif %}
{% endblock %}
{% block head %}
<style>
  @media only screen and (min-width: 1024px) {
    .clip {
      clip-path: polygon(0 0, 50% 0, 50% 100%, 0% 100%);
    }
  }
</style>
{% endblock %}

{% block content %}
<div class="relative h-full w-full bg-cover bg-right-bottom bg-no-repeat overflow-hidden pb-10 lg:pb-0">
  <div class="bg-teal-accent-400 absolute h-full clip w-full"></div>
  <svg viewBox="0 0 88 88" class="text-teal-200 absolute w-full hidden lg:block right-0">
    <circle fill="currentColor" cx="44" cy="44" r="15.5"></circle>
    <circle fill-opacity="0.2" fill="currentColor" cx="44" cy="44" r="44"></circle>
    <circle fill-opacity="0.2" fill="currentColor" cx="44" cy="44" r="37.5"></circle>
    <circle fill-opacity="0.3" fill="currentColor" cx="44" cy="44" r="29.5"></circle>
    <circle fill-opacity="0.3" fill="currentColor" cx="44" cy="44" r="22.5"></circle>
  </svg>

  <div class="flex flex-wrap lg:flex-nowrap relative justify-items-center mx-auto max-w-screen-xl px-4 pb-4 lg:min-h-screen">
    <div id="promo" class="flex flex-col gap-10 items-center justify-between lg:flex-row w-full z-[2] relative">
      <div class="px-1 text-teal-900 font-bold">
        <h1 class="text-center lg:text-left mb-6 mt-20 lg:mt-0 font-extrabold text-[2.2rem] tracking-tight leading-none">
          <span class="uppercase">
            {{ page.manjaro_title }}</span>
        </h1>
        <p class="mb-4 text-left font-semibold">
          {{ page.manjaro_intro }}
        </p>
        
      </div>
    </div>
    <div class="grid gap-5 row-gap-10 mx-auto w-full px-1">
      <div class="flex flex-col justify-center items-center">
        <div class="flex md:gap-4 capitalize lg:mb-6">
          <ul class="font-semibold pr-6">
            <li class="flex p-1 pl-0">
              <span class="mr-1">
                <i class="text-sm fa-solid fa-circle w-5 h-5 mt-px text-teal-700"></i>
              </span>
              Plug & Play Hardware
            </li>
            <li class="flex p-1 pl-0">
              <span class="mr-1">
                <i class="text-sm fa-solid fa-circle w-5 h-5 mt-px text-teal-700"></i>
              </span>
              Rolling release
            </li>
            <li class="flex p-1 pl-0">
              <span class="mr-1">
                <i class="text-sm fa-solid fa-circle w-5 h-5 mt-px text-teal-700"></i>
              </span>
              Wide range of software
            </li>
          </ul>

          <ul class="font-semibold">
            <li class="flex p-1 pl-0">
              <span class="mr-1">
                <i class="text-sm fa-solid fa-circle w-5 h-5 mt-px text-teal-700"></i>
              </span>
              Secure by default
            </li>
            <li class="flex p-1 pl-0">
              <span class="mr-1">
                <i class="text-sm fa-solid fa-circle w-5 h-5 mt-px text-teal-700"></i>
              </span>
              Lightning fast
            </li>
            <li class="flex p-1 pl-0">
              <span class="mr-1">
                <i class="text-sm fa-solid fa-circle w-5 h-5 mt-px text-teal-700"></i>
              </span>
              Easily installed
            </li>
          </ul>             
        </div>
        <div>
          <a id="download-btn" href="https://manjaro.org/download/"
          class="hidden lg:block shadow capitalize w-max text-base px-4 py-2 text-center font-semibold rounded text-teal-500 bg-gray-200">
          <i class="fa-solid fa-circle-arrow-down"></i>
          get manjaro
        </a> 
        </div>
      </div>
    </div>
  </div>

  <a href="#desktops" class="scroll-btn z-1 arrow-links text-6xl hidden xl:block absolute bottom-6 h-[56px] left-[50%] translate-x-[-50%]"
    aria-label="scroll">
    <div class="chevron-container">
      <div class="chevron"></div>
      <div class="chevron"></div>
      <div class="chevron"></div>
    </div>
  </a>
</div>


<div id="desktops" class="h-full bg-cover relative z-0 bg-blue-gray-800 pb-10 lg:pb-0">

  <div class="w-full justify-center lg:flex relative">
    <img src="{% static 'img/dark-woble.svg' %}" alt="wobble"
      class="absolute top-[-24px] w-full h-16 pl-4 pr-4 sm:max-w-screen-lg lg:max-w-screen-xl">
  </div>
  <div class="absolute overflow-hidden h-full w-full">
    <svg class="text-teal-300 absolute hidden md:block left-0 h-full top-0" version="1.1" viewBox="0 0 140 135"
      xmlns="http://www.w3.org/2000/svg">
      <g transform="matrix(-1,0,0,1,140,0)" fill="CurrentColor">
        <path d="m95 45 45-45v89.915l-45.252 45.085h-94.748l60-55z" fill-opacity=".11748" />
        <g fill-opacity=".4">
          <path d="m140 80v-70l-45.252 45-84.748 80h75z" />
          <path d="m140 70v-50l-45 45-75 70h55z" />
          <path d="m140 60v-30l-45.252 45-64.748 60h35z" />
          <path d="m140 50v-10l-45.252 45-49.748 50h10z" />
        </g>
    </svg>
  </div>

  <div class="text-gray-200 relative flex justify-center flex-col lg:min-h-[100vh] w-full">
    <h3
      class="w-full uppercase mt-2 lg:mt-20 font-sans flex justify-center items-center text-3xl font-bold tracking-tight sm:text-4xl sm:leading-none">
      <span class="flex items-center justify-center text-xl mr-2 text-teal-900 w-12 h-12 rounded-full bg-yellow-accent-700">
        <i class="fa-solid fa-list-check"></i>
      </span>
      desktops
    </h3>
    <div class="px-4 py-6 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl">
      <div class="grid gap-10 lg:grid-cols-2">
        <div class="flex flex-col justify-center md:pr-8 xl:pr-0 lg:max-w-screen-xl">
          <div class="mb-6">
            <h2 class="max-w-full text-center lg:text-left mb-6 font-sans text-3xl font-bold tracking-tight sm:text-4xl sm:leading-none">
              Multiple interfaces
            </h2>
            <p class="text-base md:text-lg">
              Choose your favorite desktop environment from a range of popular options, including Plasma, Gnome and XFCE. Additionally explore various community editions like Cinnamon, Mate and more to customize your desktop experience further.
            </p>
          </div>
          <div>
            <a id="download-btn" href="https://manjaro.org/download/"
            class="hidden lg:block shadow capitalize w-max text-base px-4 py-2 text-center font-semibold rounded text-teal-500 bg-gray-200">
            <i class="fa-solid fa-circle-arrow-down"></i>
            get manjaro
          </a> 
          </div>
        </div>
        <div class="flex items-center justify-center">
            <img
              class="object-contain mb-6 rounded drop-shadow-lg"
              src="{% static 'img/desktops.webp' %}?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;h=750&amp;w=1260"
              alt=""
            />
        </div>
      </div>
    </div>
  </div>
  <a href="#software" class="scroll-btn z-1 arrow-links text-6xl hidden xl:block absolute bottom-6 h-[56px] left-[50%] translate-x-[-50%]"
    aria-label="scroll">
    <div class="chevron-container">
      <div class="chevron"></div>
      <div class="chevron"></div>
      <div class="chevron"></div>
    </div>
  </a>
</div>

<div id="software" class="relative lg:min-h-[100vh] flex justify-center">
  <div class="bg-teal-accent-400 absolute h-full w-full">
    <div class="w-full justify-center lg:flex relative">
      <img src="{% static 'img/green-woble.svg' %}" alt="wobble"
        class="absolute top-[-24px] w-full h-16 pl-4 pr-4 sm:max-w-screen-lg lg:max-w-screen-xl">
    </div>
    <div class="relative overflow-hidden h-full w-full">
      <svg class="text-gray-300 absolute hidden md:block right-0 h-full top-0" version="1.1" viewBox="0 0 140 135"
        xmlns="http://www.w3.org/2000/svg">
        <g fill="CurrentColor">
          <path d="m95 45 45-45v89.915l-45.252 45.085h-94.748l60-55z" fill-opacity=".11748" />
          <g fill-opacity=".4">
            <path d="m140 80v-70l-45.252 45-84.748 80h75z" />
            <path d="m140 70v-50l-45 45-75 70h55z" />
            <path d="m140 60v-30l-45.252 45-64.748 60h35z" />
            <path d="m140 50v-10l-45.252 45-49.748 50h10z" />
          </g>
      </svg>
    </div>

  </div>
  <div class="text-teal-900 relative flex justify-center flex-col lg:min-h-[100vh] w-full">
    <h3
      class="w-full uppercase mt-2 lg:mt-20 font-sans flex justify-center items-center text-3xl font-bold tracking-tight sm:text-4xl sm:leading-none">
      <span class="flex items-center justify-center text-xl mr-2 w-12 h-12 rounded-full bg-yellow-accent-700">
        <i class="fa-solid fa-list-check"></i>
      </span>
      Software
    </h3>
    <div class="px-4 py-6 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl">
      <div class="grid gap-10 lg:grid-cols-2">
        <div class="flex flex-col justify-center lg:max-w-screen-xl">
          <div class="mb-6">
            <h2 class="max-w-full mb-6 text-center lg:text-left font-sans text-3xl font-bold tracking-tight sm:text-4xl sm:leading-none capitalize">
              application access 
            </h2>
            <p class="text-base md:text-lg">
              Effortlessly install a plethora of applications via the Pamac software center, which seamlessly accommodates an array of package formats such as Flatpaks, Snaps and native packages. Alternatively, you have the option to create your own packages, leveraging the Arch User Repository as a foundational resource for customization.
            </p>
          </div>
          <div>
            <a id="download-btn" href="https://manjaro.org/download/"
            class="hidden lg:block shadow capitalize w-max text-base px-4 py-2 text-center font-semibold rounded text-teal-500 bg-gray-200">
            <i class="fa-solid fa-circle-arrow-down"></i>
            get manjaro
          </a> 
          </div>
        </div>
        <div class="flex items-center justify-center -mx-4 lg:pl-8 relative">
            <img
              class="object-cover mb-6 rounded drop-shadow-lg"
              src="{% static 'img/pamac.webp' %}?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;h=750&amp;w=1260"
              alt=""
            />
        </div>
      </div>
    </div>
  </div>
  <a href="#branches" class="scroll-btn z-1 arrow-links text-6xl hidden xl:block absolute bottom-6 h-[56px] left-[50%] translate-x-[-50%]"
  aria-label="scroll">
  <div class="chevron-container">
    <div class="chevron"></div>
    <div class="chevron"></div>
    <div class="chevron"></div>
  </div>
</a>
</div>

<div id="branches" class="h-full bg-cover relative z-0 bg-blue-gray-800 pb-10 lg:pb-0">

  <div class="w-full justify-center lg:flex relative">
    <img src="{% static 'img/dark-woble.svg' %}" alt="wobble"
      class="absolute top-[-24px] w-full h-16 pl-4 pr-4 sm:max-w-screen-lg lg:max-w-screen-xl">
  </div>
  <div class="absolute overflow-hidden h-full w-full">
    <svg class="text-teal-300 absolute hidden md:block left-0 h-full top-0" version="1.1" viewBox="0 0 140 135"
      xmlns="http://www.w3.org/2000/svg">
      <g transform="matrix(-1,0,0,1,140,0)" fill="CurrentColor">
        <path d="m95 45 45-45v89.915l-45.252 45.085h-94.748l60-55z" fill-opacity=".11748" />
        <g fill-opacity=".4">
          <path d="m140 80v-70l-45.252 45-84.748 80h75z" />
          <path d="m140 70v-50l-45 45-75 70h55z" />
          <path d="m140 60v-30l-45.252 45-64.748 60h35z" />
          <path d="m140 50v-10l-45.252 45-49.748 50h10z" />
        </g>
    </svg>
  </div>

  <div class="text-gray-200 relative flex justify-center flex-col lg:min-h-[100vh] w-full">
    <h3
      class="w-full uppercase mt-4 lg:mt-20 font-sans flex justify-center items-center text-3xl font-bold tracking-tight sm:text-4xl sm:leading-none">
      <span class="flex items-center justify-center text-xl mr-2 text-teal-900 w-12 h-12 rounded-full bg-yellow-accent-700">
        <i class="fa-solid fa-list-check"></i>
      </span>
      branches
    </h3>
    <div class="px-4 py-6 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl">
      <div class="grid gap-10 lg:grid-cols-2">
        <div class="flex flex-col justify-center lg:max-w-screen-xl">
          <div class="mb-6">
            <h2 class="max-w-full text-center lg:text-left mb-6 font-sans text-3xl font-bold tracking-tight sm:text-4xl sm:leading-none capitalize">
            software experience
            </h2>
            <p class="text-base md:text-lg">
              The inclusion of multiple branches empowers you to tailor your software experience. By default, you're positioned on the stable branch, yet the flexibility exists to shift to the testing or unstable branches, providing access to diverse software versions.
            </p>
          </div>
          <div>
            <a id="download-btn" href="https://manjaro.org/download/"
            class="hidden lg:block shadow capitalize w-max text-base px-4 py-2 text-center font-semibold rounded text-teal-500 bg-gray-200">
            <i class="fa-solid fa-circle-arrow-down"></i>
            get manjaro
          </a> 
          </div>
        </div>
        <div class="flex items-center justify-center -mx-4 lg:pl-8 relative">
            <img
              class="object-cover mb-6 rounded drop-shadow-lg"
              src="{% static 'img/branch.webp' %}?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;h=750&amp;w=1260"
              alt=""
            />
        </div>
      </div>
    </div>
  </div>
  <a href="#merch" class="scroll-btn z-1 arrow-links text-6xl hidden xl:block absolute bottom-6 h-[56px] left-[50%] translate-x-[-50%]"
    aria-label="scroll">
    <div class="chevron-container">
      <div class="chevron"></div>
      <div class="chevron"></div>
      <div class="chevron"></div>
    </div>
  </a>
</div>

<div id="merch" class="relative lg:min-h-[100vh] flex justify-center">
  <div class="bg-teal-accent-400 absolute h-full w-full">
    <div class="w-full justify-center lg:flex relative">
      <img src="{% static 'img/green-woble.svg' %}" alt="wobble"
        class="absolute top-[-24px] w-full h-16 pl-4 pr-4 sm:max-w-screen-lg lg:max-w-screen-xl">
    </div>
    <div class="relative overflow-hidden h-full w-full">
      <svg class="text-gray-300 absolute hidden md:block right-0 h-full top-0" version="1.1" viewBox="0 0 140 135"
        xmlns="http://www.w3.org/2000/svg">
        <g fill="CurrentColor">
          <path d="m95 45 45-45v89.915l-45.252 45.085h-94.748l60-55z" fill-opacity=".11748" />
          <g fill-opacity=".4">
            <path d="m140 80v-70l-45.252 45-84.748 80h75z" />
            <path d="m140 70v-50l-45 45-75 70h55z" />
            <path d="m140 60v-30l-45.252 45-64.748 60h35z" />
            <path d="m140 50v-10l-45.252 45-49.748 50h10z" />
          </g>
      </svg>
    </div>

  </div>
  <div class="relative flex flex-col items-center justify-center px-4 mx-auto w-full lg:max-w-screen-xl pb-10">
    <div class="flex flex-col justify-center">
      <div class="text-teal-900">
        <h3
          class="w-full uppercase mb-6 mt-2 flex justify-center items-center font-sans text-3xl font-bold tracking-tight sm:text-4xl sm:leading-none">
            <div class="flex text-xl items-center justify-center w-12 h-12 rounded-full bg-yellow-accent-700 mr-2">
              <i class="fa-solid fa-shop text-teal-900"></i>
            </div>
          Merchandise
        </h3>
        {% if not latest_promo.message %}
            <div class="bg-pink-500 text-xl text-gray-200 font-bold rounded py-3 px-8 flex justify-center items-center text-center mb-4 mt-[-32px] gap-2 max-w-fit mx-auto">
                {% for k, v in latest_promo.items %}
                {% if k == "description" %}
                      <span>{{ v }} valid until</span>
                {% elif k == "validUntil" %}
                      <span id="expire"></span>
                      <script>
                        function toLocaleDate(date) {
                          let d = new Date(date).toString()
                          let i = d.lastIndexOf(":")
                          let arr = d.split(":")
                          let formatedDate = arr[0] + ":" + arr[1]
                          return formatedDate
                        }
                        document.querySelector("#expire").textContent = toLocaleDate("{{ v }}")
                      </script>
                {% endif %}
                {% endfor %}
            </div>
        {% endif %}

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
         {% for item in latest_merch %}
         <div class="flex relative bg-gray-200 flex-wrap rounded">
          {% if forloop.first %}
          {% with customize="Customize your own" %}

          {% for key, value in item.items %}
            {% if "preview" in key %}
            <img src="{{ value.url }}" class="w-full rounded-t" alt="Merchandise">
            {% endif %}
            {% endfor %}

            {% for key, value in item.items %}
            {% if "description" in key %}
            <div class="p-6 font-bold text-center text-lg bg-blue-gray-800 w-full h-[88px] rounded-b">
              <a href="https://manjaro.org/merchandise/#!/create" class="text-gray-900 px-6 py-2 bg-gray-200 block rounded max-w-fit mx-auto">
                <i class="fa-solid fa-cart-shopping mr-4 text-blue-400"></i>{{ customize }}</a>
            </div>
            {% endif %}
            {% endfor %}
          {% endwith %}

          {% elif forloop.last %}
          {% for key, value in item.items %}
            {% if "preview" in key %}
            <img src="{{ value.url }}" class="w-full rounded-t" alt="Merchandise">
            {% endif %}
            {% endfor %}

            {% for key, value in item.items %}
            {% if "description" in key %}
            <div class="p-6 font-bold text-center text-lg bg-blue-gray-800 w-full h-[88px] rounded-b">
              <a href="https://manjaro.org/merchandise/" class="text-gray-900 px-6 py-2 bg-gray-200 block rounded max-w-fit mx-auto">
                <i class="fa-solid fa-cart-shopping mr-4 text-blue-400"></i>Discover Merch</a>
            </div>
            {% endif %}
            {% endfor %}
          {% else %}

            {% for key, value in item.items %}
            {% if "preview" in key %}
            <img src="{{ value.url }}" class="w-full rounded-t" alt="Merchandise">
            {% endif %}
            {% endfor %}

            {% for key, value in item.items %}
            {% if "description" in key %}
            <p class="text-gray-200 p-4 font-bold text-center text-lg bg-blue-gray-800 h-[88px] w-full flex justify-center items-center rounded-b">
              {{value}}
            </p>
            {% endif %}
            {% endfor %}
            {% endif %}
      </div>
        {% endfor %}
      </div>
      </div>
    </div>
  </div>
  <a href="#blog" class="scroll-btn z-1 arrow-links text-6xl hidden xl:block absolute bottom-6 h-[56px] left-[50%] translate-x-[-50%]"
  aria-label="scroll">
  <div class="chevron-container">
    <div class="chevron"></div>
    <div class="chevron"></div>
    <div class="chevron"></div>
  </div>
</a>
</div>

<div id="blog" class="h-full lg:h-[100vh] bg-cover relative z-0 flex items-center">  
  <div class="bg-blue-gray-800 absolute h-full w-full z-[-1]">
    <div class="w-full justify-center lg:flex relative">
      <img src="{% static 'img/dark-woble.svg' %}" alt="wobble"
        class="absolute top-[-24px] w-full h-16 pl-4 pr-4 sm:max-w-screen-lg lg:max-w-screen-xl z-[-1]">
    </div>
    <div class="relative overflow-hidden h-full w-full">
      <svg class="text-teal-300 absolute hidden md:block left-0 h-full top-0" version="1.1" viewBox="0 0 140 135"
      xmlns="http://www.w3.org/2000/svg">
      <g transform="matrix(-1,0,0,1,140,0)" fill="CurrentColor">
        <path d="m95 45 45-45v89.915l-45.252 45.085h-94.748l60-55z" fill-opacity=".11748" />
        <g fill-opacity=".4">
          <path d="m140 80v-70l-45.252 45-84.748 80h75z" />
          <path d="m140 70v-50l-45 45-75 70h55z" />
          <path d="m140 60v-30l-45.252 45-64.748 60h35z" />
          <path d="m140 50v-10l-45.252 45-49.748 50h10z" />
        </g>
    </svg>
    </div>
  </div>
  <div class="text-gray-200 px-4 w-full lg:max-w-screen-xl mx-auto">
    <h3
      class="w-full uppercase mb-4 flex justify-center items-center font-sans text-center text-3xl font-bold tracking-tight sm:text-4xl sm:leading-none">
      <span class="flex items-center justify-center text-xl mr-2 text-teal-900 w-12 h-12 rounded-full bg-yellow-accent-700">
        <i class="fa-solid fa-blog"></i>
      </span>
      Posts
    </h3>
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 mt-6 mb-4 lg:mb-12">
    {% for entry in blog %}
    <div class="text-gray-200 flex flex-wrap justify-center mb-8">
      <a href="{{ entry.url }}" aria-label="Article"v class="bg-blue-gray-800 rounded overflow-hidden h-full w-full rounded-t">  
            {% image entry.header_image width-500 as header_image %}
            <img src="{{ header_image.url }}?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;h=750&amp;w=1260" class="object-cover w-full h-64" 
            alt="image" />
          <div class="p-4 text-sm">
            <h4 class="font-bold leading-5 mb-2 text-base">{{ entry.title }}</h4>
            {{ entry.excerpt|richtext }}
        </div>
      </a>
    </div>
    {% endfor %}
  </div>
  </div>
</div>

<div id="error" class="fixed bg-orange-900 p-4 hidden">
  <P class="text-gray-50">This page does not exist, you have been redirected to the home page.</P>
</div>
{% endblock %}

{% block footer_js %}
<script>
  document.addEventListener("DOMContentLoaded", (event) => {  
    if (window.location.href.includes("?404")) {
    console.log(window.location.href)
    let error = document.querySelector("#error")
    error.classList.remove("hidden")
    setTimeout(function () {
      error.classList.add("hidden")
    }, 10000)
  }
  tippy('#promo-btn', {
    content: "WERE TO BUY AND SPECS" + tooltipIcon,
    allowHTML: true,
  })
  tippy('.scroll-btn', {
    content: "NEXT SECTION" + tooltipIcon,
    allowHTML: true,
  })
  tippy('#linux', {
    content: "WHAT IS LINUX" + tooltipIcon,
    allowHTML: true,
  })
  tippy('#open-source', {
    content: "WHAT IS OPEN SOURCE" + tooltipIcon,
    allowHTML: true,
  })
  tippy('#snap', {
    content: "WHAT IS SNAPS" + tooltipIcon,
    allowHTML: true,
  })
  tippy('#flatpak', {
    content: "WHAT IS FLATPAKS" + tooltipIcon,
    allowHTML: true,
  })
  tippy('#aur', {
    content: "WHAT IS THE AUR" + tooltipIcon,
    allowHTML: true,
  })
  tippy('#drivers', {
    content: "WHAT ARE DRIVERS" + tooltipIcon,
    allowHTML: true,
  })  
  tippy('#features', {
    content: "MANJARO TRAITS AND SOFTWARE" + tooltipIcon,
    allowHTML: true,
  })
  })
</script>
{% endblock %}