{% extends "base.html" %}

{% load wagtailcore_tags static %}

{% block body_class %}hardware overflow-x-hidden{% endblock %}

{% block title %}
    {% if page.seo_title %}
        {{ page.seo_title }}
    {% else %}
        {{ page.title }}
    {% endif %}
{% endblock %}

{% block meta_title %}
    {% if page.seo_title %}
        {{ page.seo_title }}
    {% else %}
        {{ page.title }}
    {% endif %}
{% endblock %}

{% block meta_description %}
    {% if page.search_description %}
        {{ page.search_description }}
    {% endif %}
{% endblock %}

{% block content %}
<div class="overflow-hidden h-full w-full bg-blue-gray-800 fixed top-0 z-[-1]">
    <svg class="fixed text-teal-300 hidden md:block left-0 h-full top-0" version="1.1" viewBox="0 0 140 135"
      xmlns="http://www.w3.org/2000/svg">
      <g transform="matrix(-1,0,0,1,140,0)" fill="CurrentColor">
        <path d="m95 45 45-45v89.915l-45.252 45.085h-94.748l60-55z" fill-opacity=".11748" />
        <g fill-opacity=".4">
          <path d="m140 80v-70l-45.252 45-84.748 80h75z" />
          <path d="m140 70v-50l-45 45-75 70h55z" />
          <path d="m140 60v-30l-45.252 45-64.748 60h35z" />
          <path d="m140 50v-10l-45.252 45-49.748 50h10z" />
        </g>
    </svg>
  </div>
<div class="mt-52 md:mt-34 lg:mt-32 xl:mt-22 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-4">
    <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
        {% for block in page.content %}
              {% include_block block %}
        {% endfor %}     
    </div>
  </div>
  
<div class="overflow-hidden mx-auto text-gray-200 font-bold relative -mt-20">
    <div class="mx-auto text-center px-4">
      <div>
        <span class="relative inline-block">
            <i class="fa-solid fa-video text-red-400 align-middle mr-1 text-lg"></i>
        </span>
        <p class="inline-block px-3 py-px mb-4 text-xs tracking-wider text-red-900 uppercase rounded-full bg-red-200">
          Videos
        </p>
      </div>
      <h2 class="uppercase mb-1 font-sans text-3xl leading-none tracking-tight mx-auto">
        manjaro hardware
      </h2>
      <p class="text-base md:text-xl mb-4">
        What are reviewers saying about Manjaro hardware
      </p>
    </div>
    <div class="flex justify-center relative text-blue-gray-800 max-w-screen-xl mx-auto px-4">
        <i class="ml-6 shadow-lg text-gray-200 cursor-pointer fa-solid fa-arrow-left text-2xl mt-[13.4rem] pt-[3px] px-2 left-0 h-[37px] bg-red-400 absolute rounded-full"></i>
        <div id="scroll" class="grid grid-flow-col auto-cols-max gap-4 mb-6 overflow-y-auto touch-auto scroll-smooth no-scrollbar py-6 mx-auto">
            {% for block in page.reviews %}
            <div class="inline-block overflow-hidden bg-white rounded-xl shadow-sm max-w-[350px]">
                <div class="flex flex-col h-full">
                    <iframe width="100%" height="210" src="https://www.youtube-nocookie.com/embed/{{ block.value.video.embed_code }}?enablejsapi=1&origin=https://manjaro.org" frameborder="0" allow="encrypted-media" allowfullscreen>
                    </iframe>          
                    <div class="flex-grow border border-t-0 rounded-b green-gradient-bg pb-2">
                        <div class="p-5">
                            <h6 class="mb-4 font-semibold leading-5 text-center">{{ block.value.video.title }}</h6>
                            <p class="text-xs">
                                {{ block.value.video.description }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>  
        {% endfor %}    
        </div>
        <i class="mr-6 text-gray-200 shadow-lg cursor-pointer fa-solid fa-arrow-right text-2xl mt-[13.4rem] pt-[3px] px-2 h-[37px] right-0 bg-red-400 absolute rounded-full"></i>
    </div>
</div>
<script>
    const right = document.querySelector(".fa-arrow-right")
    const left = document.querySelector(".fa-arrow-left")

    right.addEventListener("click", function() {
        document.querySelector("#scroll").scrollLeft += 366;
        event.preventDefault();
    })
    left.addEventListener("click", function() {
        document.querySelector("#scroll").scrollLeft -= 366;
        event.preventDefault();
    })
</script>
{% endblock %}
