{% extends "base.html" %}

{% load wagtailcore_tags %}

{% block body_class %}hardware overflow-x-hidden{% endblock %}

{% block title %}
    {% if page.seo_title %}
        {{ page.seo_title }}
    {% else %}
        {{ page.title }}
    {% endif %}
{% endblock %}

{% block meta_title %}
    {% if page.seo_title %}
        {{ page.seo_title }}
    {% else %}
        {{ page.title }}
    {% endif %}
{% endblock %}

{% block meta_description %}
    {% if page.search_description %}
        {{ page.search_description }}
    {% endif %}
{% endblock %}

{% block content %}
{% for block in page.content %}
    <div class="bg-grey-50 flex flex-col lg:flex-row sm:mx-auto">      
          {% include_block block %}
    </div>
{% endfor %}
<div class="overflow-hidden mx-auto max-w-[360px] md:max-w-[720px] lg:max-w-[1084px]">
    <div class="max-w-xl md:mx-auto sm:text-center px-4 py-5 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:py-10">
      <div>
        <span class="relative inline-block">
            <i class="fa-solid fa-video text-red-400 align-middle mr-1"></i>
        </span>
        <p class="inline-block px-3 py-px mb-4 text-xs font-semibold tracking-wider text-red-900 uppercase rounded-full bg-red-200">
          Videos
        </p>
      </div>
      <h2 class="uppercase max-w-lg mb-1 font-sans text-3xl font-bold leading-none tracking-tight text-gray-900 sm:text-4xl md:mx-auto">
        hardware reviews
      </h2>
      <p class="text-base text-gray-700 md:text-xl">
        What are media reviewers saying about manjaro hardware
      </p>
    </div>
    <div class="flex justify-center relative">
        <i class="cursor-pointer fa-solid fa-arrow-left text-2xl mt-[13.4rem] pt-[3px] px-2 left-0 h-[37px] bg-red-400 absolute rounded-full text-gray-100"></i>
        <div id="scroll" class="grid grid-flow-col auto-cols-max gap-4 mb-8 overflow-y-auto touch-auto scroll-smooth no-scrollbar py-6 mx-auto">
            {% for block in page.reviews %}
            <div class="inline-block overflow-hidden bg-white rounded-xl shadow-sm max-w-[350px]">
                <div class="flex flex-col h-full">
                    <iframe width="100%" height="210" src="https://www.youtube-nocookie.com/embed/{{ block.value.video.embed_code }}?enablejsapi=1&origin=https://manjaro.org" frameborder="0" allow="encrypted-media" allowfullscreen>
                    </iframe>          
                    <div class="flex-grow border border-t-0 rounded-b green-gradient-bg pb-2">
                        <div class="p-5">
                            <h6 class="mb-4 font-semibold leading-5 text-center">{{ block.value.video.title }}</h6>
                            <p class="text-xs text-gray-900">
                                {{ block.value.video.description }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>  
        {% endfor %}    
        </div>
        <i class="cursor-pointer fa-solid fa-arrow-right text-2xl mt-[13.4rem] pt-[3px] px-2 h-[37px] right-0 bg-red-400 absolute rounded-full text-gray-100"></i>
    </div>
</div>
<script>
    const right = document.querySelector(".fa-arrow-right")
    const left = document.querySelector(".fa-arrow-left")

    right.addEventListener("click", function() {
        document.querySelector("#scroll").scrollLeft += 366;
        event.preventDefault();
    })
    left.addEventListener("click", function() {
        document.querySelector("#scroll").scrollLeft -= 366;
        event.preventDefault();
    })
</script>
{% endblock %}
